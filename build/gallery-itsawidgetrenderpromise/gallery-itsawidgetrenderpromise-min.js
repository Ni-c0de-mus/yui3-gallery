YUI.add("gallery-itsawidgetrenderpromise",function(e,t){"use strict";var n=2e4;e.Widget.prototype.renderOnAvailable=function(e,t){var n=this;return n.renderOnAvailablePromise(e,{timeout:t}),n},e.Widget.prototype.renderOnAvailablePromise=function(t,n){var r=this,i=n&&n.timeout,s=n&&n.promisetype;return new e.Promise(function(n,o){t?e.use("gallery-itsanodepromise",function(){r.nodeAvailablePromise=e.Node.availablePromise(t,i).then(e.bind(r.render,r,t)).then(function(){return i=i||0,s==="afterrender"?r.renderPromise(i):s==="afterready"?r.readyPromise(i):!0}).then(n,o)}):(r.render(),n())})},e.Widget.prototype.renderPromise=function(t){var r=this;return new e.Promise(function(i,s){r.after("render",function(){i()}),r.get("rendered")&&i(),t!==0&&e.later(t||n,null,function(){var e="renderPromise is rejected by timeout of "+(t||n)+" ms";s(new Error(e))})})},e.Widget.prototype.promiseBeforeReady=function(){return new e.Promise(function(e){e()})},e.Widget.prototype.readyPromise=function(t){var n=this,r;return r=[],r.push(n.renderPromise(t)),r.push(n.promiseBeforeReady(t)),e.batch.apply(e,r)}},"gallery-2013.08.07-20-34",{requires:["yui-base","yui-later","widget","promise"]});
